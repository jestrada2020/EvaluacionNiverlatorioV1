<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Evaluativo de Matemáticas</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #2d3748;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background: linear-gradient(135deg, #1a365d 0%, #2b6cb0 100%);
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
        }

        main {
            flex: 1;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        #progress-bar {
            background-color: #e2e8f0;
            border-radius: 8px;
            height: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        #progress {
            background: linear-gradient(90deg, #4299e1 0%, #2b6cb0 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        #topic-indicator {
            text-align: center;
            color: #4a5568;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        #question-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .question {
            margin-bottom: 1.5rem;
            display: none;
        }

        .question.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .options {
            margin-top: 1rem;
        }

        .option-label {
            display: block;
            padding: 1rem;
            margin: 0.5rem 0;
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option-label:hover {
            background-color: #ebf8ff;
            border-color: #4299e1;
        }

        input[type="radio"]:checked + .option-label {
            background-color: #ebf8ff;
            border-color: #4299e1;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #prev-button {
            background-color: #e2e8f0;
            color: #4a5568;
        }

        #next-button {
            background-color: #4299e1;
            color: white;
        }

        #submit-button {
            background-color: #48bb78;
            color: white;
            display: none;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #result-container {
            display: none;
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        footer {
            text-align: center;
            padding: 1rem;
            background: #1a365d;
            color: white;
            margin-top: auto;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <header>
        <h1>Taller Uno - Nivelatorio semestre 02</h1>
    </header>
    <main>
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
        <div id="topic-indicator"></div>
        <div id="question-container"></div>
        <div class="buttons">
            <button id="prev-button" disabled>Anterior</button>
            <button id="next-button">Siguiente</button>
            <button id="submit-button">Finalizar Taller</button>
        </div>
        <div id="result-container">
            <h2>Resultados del taller nivelatorio</h2>
            <div id="score-display"></div>
            <div id="topic-breakdown"></div>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 Sistema Evaluativo de Matemáticas</p>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const questions = {
                aritmetica: [
                  
                  {
                    question: "Resuelve la operación: \\[10 + 5 - 7 - 3 + 2\\]",
                    options: [
                      "\\[7\\]",
                      "\\[5\\]",
                      "\\[9\\]",
                      "\\[3\\]"
                    ],
                    correct: 0
                  },
                  {
                    question: "Resuelve la operación: \\[-9 + 4 - 8 + 12 - 6\\]",
                    options: [
                      "\\[-7\\]",
                      "\\[-5\\]",
                      "\\[-9\\]",
                      "\\[-3\\]"
                    ],
                    correct: 0
                  },
                  
                {
                    "question": "Resuelve la operación: \\[8 × (5 - [3 - 1]) + 2\\]",
                    "options": [
                      "\\[26\\]",
                      "\\[24\\]",
                      "\\[28\\]",
                      "\\[22\\]"
                    ],
                    "correct": 0
                  },
                    {
                        question: "Resuelve la operación: \\[[5 × (3 + 2)] - {7 + (3 × 2)}\\]",
                        options: [
                        "\\[13\\]",
                        "\\[15\\]",
                        "\\[11\\]",
                        "\\[17\\]"
                        ],
                        correct: 0
                    },
                    {
                        question: "Resuelve la operación: \\[{6 + [3 × (2 + 1)]} - 4\\]",
                        options: [
                          "\\[11\\]",
                          "\\[13\\]",
                          "\\[9\\]",
                          "\\[15\\]"
                        ],
                        correct: 0
                      },
                      
                      {
                        question: "Calcula el resultado de la siguiente expresión: \\[\\left(\\frac{1}{2} + \\frac{3}{4}\\right) - \\left[\\frac{1}{5} - \\left(\\frac{1}{2} - \\frac{1}{3}\\right)\\right]\\]",
                        options: [
                          "\\[\\frac{13}{12}\\]",
                          "\\[\\frac{7}{6}\\]",
                          "\\[\\frac{11}{10}\\]",
                          "\\[\\frac{5}{4}\\]"
                        ],
                        correct: 0
                      },
                      {
                        question: "Resuelve la siguiente operación: \\[\\left\\{\\frac{2}{3} × \\left(\\frac{3}{4} + \\frac{1}{2}\\right)\\right\\} ÷ \\left(\\frac{1}{6} + \\frac{1}{3}\\right)\\]",
                        options: [
                          "\\[2\\]",
                          "\\[\\frac{3}{2}\\]",
                          "\\[\\frac{5}{2}\\]",
                          "\\[3\\]"
                        ],
                        correct: 0
                      },
                      {
                        question: "Simplifica la expresión siguiente: \\[\\frac{1}{4} ÷ \\left(\\frac{2}{3} - \\frac{1}{8}\\right) + \\frac{1}{2}\\]",
                        options: [
                          "\\[\\frac{7}{6}\\]",
                          "\\[\\frac{5}{4}\\]",
                          "\\[\\frac{4}{3}\\]",
                          "\\[\\frac{3}{2}\\]"
                        ],
                        correct: 0
                      },
                      {
                        question: "Determina el valor de la expresión: \\[\\left(\\frac{5}{6} - \\left\\{\\frac{1}{2} - \\left[\\frac{1}{3} + \\frac{1}{4}\\right]\\right\\}\\right) × \\frac{3}{4}\\]",
                        options: [
                          "\\[\\frac{5}{8}\\]",
                          "\\[\\frac{3}{4}\\]",
                          "\\[\\frac{7}{12}\\]",
                          "\\[\\frac{2}{3}\\]"
                        ],
                        correct: 0
                      },
                      
                      {
                        question: "Suma los siguientes números y considera la mejor forma de alinearlos: \\[2,3 + 1,456\\] \n\nSugerencia: Alinea los números por el punto decimal: \n\\[\\begin{align*} 2,300 \\\\ +1,456 \\end{align*}\\]",
                        options: [
                          "\\[3,756\\]",
                          "\\[3,856\\]",
                          "\\[3,656\\]",
                          "\\[3,956\\]"
                        ],
                        correct: 0
                      },
                      {
                        question: "Suma los siguientes números y considera la mejor forma de alinearlos: \\[0,75 + 0,004\\] \n\nSugerencia: Alinea los números por el punto decimal: \n\\[\\begin{align*} 0,750 \\\\ +0,004 \\end{align*}\\]",
                        options: [
                          "\\[0,754\\]",
                          "\\[0,745\\]",
                          "\\[0,755\\]",
                          "\\[0,753\\]"
                        ],
                        correct: 0
                      },
                      {
                        question: "Suma los siguientes números y considera la mejor forma de alinearlos: \\[123,4 + 56,789\\] \n\nSugerencia: Alinea los números por el punto decimal y rellena con ceros si es necesario: \n\\[\\begin{align*} 123,400 \\\\ +56,789 \\end{align*}\\]",
                        options: [
                          "\\[180,189\\]",
                          "\\[179,189\\]",
                          "\\[181,189\\]",
                          "\\[178,189\\]"
                        ],
                        correct: 0
                      },
                ],
                aritmetica2: [
                        {
                            question: "En el colegio Criaturitas hay grupos de 30, 36 y 48 alumnos. ¿Cuál es el máximo número de filas posible para distribuir estos grupos?",
                            options: ["2", "3", "6", "8"],
                            correct: 2
                        },
                        {
                            question: "Si se deben transportar 8.520 toneladas de arena en un camión de 25 toneladas de capacidad, ¿cuál es el mínimo número de viajes necesarios?",
                            options: ["338", "339", "340", "341"],
                            correct: 3
                        },
                        {
                            question: "El lunes compré 28 kg de azúcar, el martes 16 kg y el miércoles 12 kg, todas en bolsas de igual capacidad. ¿Cuál es la capacidad máxima en kilogramos de cada bolsa?",
                            options: ["2", "3", "4", "6"],
                            correct: 1
                        },
                        {
                            question: "En el ejercicio anterior, si cada bolsa está llena a su máxima capacidad, ¿cuántas bolsas se compraron en total durante los tres días?",
                            options: ["6", "12", "14", "15"],
                            correct: 2
                        },
                        {
                            question: "Se tiene 4 reglas de 300 cm cada una con marcas divisorias de 2 cm, 3 cm, 5 cm y 6 cm respectivamente. Al alinearlas, ¿en qué marca coinciden por primera vez?",
                            options: ["12 cm", "15 cm", "18 cm", "30 cm"],
                            correct: 3
                        },
                        {
                            question: "Si quitamos la cuarta regla del ejercicio anterior, ¿cuántas marcas divisorias coinciden en total?",
                            options: ["5", "10", "20", "25"],
                            correct: 2
                        },
                        {
                            question: "En el parque de diversiones 'Aventura' hay tres ruedas de Chicago. La más grande tarda 24 segundos en dar una vuelta, la mediana tarda 18 segundos y la pequeña tarda 12 segundos. A las 3:15:00 de la tarde coincidimos en la parte más alta de cada rueda. ¿A qué hora volvemos a coincidir?",
                            options: ["3:16:22", "3:16:12", "3:18:22", "3:15:32"],
                            correct: 1
                        },
                        {
                            question: "Tres gemelas compran 112 colores. Marta recibe 60, María 3/5 de lo de Marta, y Mariana el resto. ¿Cuál afirmación es falsa?",
                            options: [
                            "Entre María y Mariana tienen menos colores que Marta",
                            "María tiene más colores que Mariana",
                            "Marta tiene más colores que María",
                            "Entre María y Mariana tienen más colores que Marta"
                            ],
                            correct: 0
                        },
                        {
                            question: "Si me pagan 2/3 de 2/5 de 15 millones, ¿cuánto dinero me pagan?",
                            options: [
                            "12 millones",
                            "8 millones",
                            "6 millones",
                            "4 millones"
                            ],
                            correct: 2
                        },
                        {
                            question: "Había ganado 90.000 en chance, pero perdí 3/5 y presté 5/6 del resto a un amigo. ¿Cuánto dinero me quedó?",
                            options: ["4.000", "6.000", "8.000", "1.000"],
                            correct: 0
                        }
                ],
                aritmetica3: [
                        {
                            question: "En una mezcla con proporción 22:8:10:16 de cemento, agua, arena y gravilla, ¿cuál es la razón entre arena y agua respecto al total?",
                            options: ["9/28", "2/7", "1/7", "9/28"],
                            correct: 0
                        },
                        {
                            question: "En un lago circular las algas cubren 1/5 en día caluroso (≥25°C) y 1/4 en día no caluroso. ¿Cuál es la razón entre la cobertura en día caluroso y no caluroso?",
                            options: ["5/4", "4/5", "1/20", "20/1"],
                            correct: 1
                        },
                    
                        {
                            question: "Si en un lago hay algas que cubren 1/10 y después de un tiempo cubren 3/4, ¿qué se puede afirmar?",
                            options: [
                            "Fue necesario que transcurriera 4 días",
                            "Fue suficiente que transcurriera 1 día no caluroso y un día caluroso",
                            "Transcurrieron 2 días no calurosos y 1 caluroso",
                            "Transcurrieron 2 días calurosos y 1 no caluroso"
                            ],
                            correct: 1
                        },
                        {
                            question: "En una carretera, la distancia SB es 48 km y la distancia TB es 3/4 de SB. Si la razón entre TR y BT es 5/18, ¿cuál es la distancia entre T y R en km?",
                            options: ["24", "10", "18", "12"],
                            correct: 1
                        },
                        {
                            question: "Con las condiciones anteriores, ¿cuál es la distancia en km entre B y R?",
                            options: ["36", "42", "46", "58"],
                            correct: 0
                        },
                        {
                            question: "En una banda transportadora, cuando la polea B da 7 vueltas, A y C dan 21 y 12 respectivamente. Si B da 56 vueltas, ¿cuántas vueltas dan A y C en total?",
                            options: ["96", "168", "204", "264"],
                            correct: 3
                        },
                        {
                            question: "Un tanque de combustible de 28 galones dispara una alarma en reserva (R) con 4 galones. Si en R se cargan $81.000 hasta 3/4, ¿cuánto falta para llenar?",
                            options: ["$25.000", "$27.000", "$28.000", "$32.000"],
                            correct: 1
                        },
                        {
                            question: "Por cada 9 jugos de mora vendidos la ganancia es $8.100. Si hasta hoy he ganado $243.000, ¿cuántos jugos se han vendido?",
                            options: [
                            "La mora está a su mejor momento de rentabilidad",
                            "230 jugos de mora",
                            "270 jugos de mora",
                            "La ganancia por jugo aumenta después de los primeros 81 jugos"
                            ],
                            correct: 2
                        },
                        {
                            question: "Para combatir una infección, un antibiótico tiene actividad bactericida de 2.5 mg por 100.000 bacterias. Si aumenta a 10.0 mg, ¿cuántas bacterias elimina?",
                            options: ["280.000", "400.000", "360.000", "350.000"],
                            correct: 2
                        },
                        {
                            question: "Si de cada 8 botones producidos, 2 son defectuosos, para cubrir un pedido de 48 botones buenos, ¿cuál afirmación es verdadera?",
                            options: [
                            "Basta con producir 60 botones",
                            "Es necesario producir 64 botones",
                            "Es suficiente producir 56 botones",
                            "Es necesario producir más de 64 botones"
                            ],
                            correct: 1
                        }
                ]
            };

            let currentTopic = 0;
            let currentQuestion = 0;
            const topics = ['aritmetica', 'aritmetica2', 'aritmetica3'];
            const topicNames = {
                'aritmetica': 'Aritmética operaciones básicas',
                'aritmetica2': 'Aritmética problemas nivel uno',
                'aritmetica3': 'Aritmética problemas nivel dos'
            };
            let userAnswers = {};

            const container = document.getElementById("question-container");
            const prevButton = document.getElementById("prev-button");
            const nextButton = document.getElementById("next-button");
            const submitButton = document.getElementById("submit-button");
            const progressBar = document.getElementById("progress");
            const topicIndicator = document.getElementById("topic-indicator");

            function updateProgress() {
                const totalQuestions = Object.values(questions).reduce((acc, curr) => acc + curr.length, 0);
                const currentTotal = currentTopic * Object.values(questions)[0].length + currentQuestion + 1;
                const progress = (currentTotal / totalQuestions) * 100;
                progressBar.style.width = `${progress}%`;
            }

            function updateTopicIndicator() {
                topicIndicator.textContent = `Tópico actual: ${topicNames[topics[currentTopic]]}`;
            }

            function displayQuestion() {
                const topic = topics[currentTopic];
                const question = questions[topic][currentQuestion];
                
                container.innerHTML = `
                    <div class="question active">
                        <h3>Pregunta ${currentTopic * 2 + currentQuestion + 1}</h3>
                        <p>${question.question}</p>
                        <div class="options">
                            ${question.options.map((option, index) => `
                                <div>
                                    <input type="radio" id="option${index}" name="answer" value="${index}" 
                                        ${userAnswers[`${topic}_${currentQuestion}`] === index ? 'checked' : ''}>
                                    <label class="option-label" for="option${index}">${option}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;

                // Renderizar LaTeX
                MathJax.typesetPromise();
                updateProgress();
                updateTopicIndicator();
                updateButtons();
            }

            function updateButtons() {
                prevButton.disabled = currentTopic === 0 && currentQuestion === 0;
                const isLastQuestion = currentTopic === topics.length - 1 && 
                                     currentQuestion === questions[topics[currentTopic]].length - 1;
                
                nextButton.style.display = isLastQuestion ? 'none' : 'block';
                submitButton.style.display = isLastQuestion ? 'block' : 'none';
            }

            function saveAnswer() {
                const selectedOption = document.querySelector('input[name="answer"]:checked');
                if (selectedOption) {
                    userAnswers[`${topics[currentTopic]}_${currentQuestion}`] = parseInt(selectedOption.value);
                }
            }

            function navigateQuestion(direction) {
                saveAnswer();
                
                if (direction === 'next') {
                    if (currentQuestion < questions[topics[currentTopic]].length - 1) {
                        currentQuestion++;
                    } else if (currentTopic < topics.length - 1) {
                        currentTopic++;
                        currentQuestion = 0;
                    }
                } else {
                    if (currentQuestion > 0) {
                        currentQuestion--;
                    } else if (currentTopic > 0) {
                        currentTopic--;
                        currentQuestion = questions[topics[currentTopic]].length - 1;
                    }
                }
                
                displayQuestion();
            }

            function calculateResults() {
                const results = {
                    total: 0,
                    byTopic: {}
                };

                topics.forEach(topic => {
                    let topicCorrect = 0;
                    questions[topic].forEach((q, index) => {
                        if (userAnswers[`${topic}_${index}`] === q.correct) {
                            topicCorrect++;
                            results.total++;
                        }
                    });
                    results.byTopic[topic] = {
                        correct: topicCorrect,
                        total: questions[topic].length,
                        percentage: (topicCorrect / questions[topic].length) * 100
                    };
                });

                const totalQuestions = Object.values(questions).reduce((acc, curr) => acc + curr.length, 0);
                results.percentage = (results.total / totalQuestions) * 100;

                return results;
            }

            function displayResults() {
                const results = calculateResults();
                const resultContainer = document.getElementById("result-container");
                const scoreDisplay = document.getElementById("score-display");
                const topicBreakdown = document.getElementById("topic-breakdown");

                scoreDisplay.innerHTML = `
                    <h3>Puntuación Total: ${results.total} de ${Object.values(questions).reduce((acc, curr) => acc + curr.length, 0)}</h3>
                    <p>Porcentaje: ${results.percentage.toFixed(1)}%</p>
                `;

                topicBreakdown.innerHTML = topics.map(topic => `
                    <div>
                        <h4>${topicNames[topic]}</h4>
                        <p>Correctas: ${results.byTopic[topic].correct} de ${results.byTopic[topic].total}</p>
                        <p>Porcentaje: ${results.byTopic[topic].percentage.toFixed(1)}%</p>
                    </div>
                `).join('');

                document.getElementById("question-container").style.display = "none";
                document.querySelector(".buttons").style.display = "none";
                resultContainer.style.display = "block";
            }

            //
            function createFigure(type, measurements) {
                let figure = '';
                switch(type) {
                    case 'triangle':
                        figure = `
                            <div class="triangle">
                                <span class="measurement measure-left">a = ${measurements.a}</span>
                                <span class="measurement measure-bottom">b = ${measurements.b}</span>
                                <span class="measurement measure-hypotenuse">c = ${measurements.c}</span>
                            </div>
                        `;
                        break;
                    case 'circle':
                        figure = `
                            <div class="circle">
                                <span class="measurement" style="top: 50%; left: 50%;">r = ${measurements.r}</span>
                            </div>
                        `;
                        break;
                    case 'rectangle':
                        figure = `
                            <div class="rectangle">
                                <span class="measurement measure-bottom">base = ${measurements.base}</span>
                                <span class="measurement measure-left">h = ${measurements.height}</span>
                            </div>
                        `;
                        break;
                }
                return figure;
            }

            //




            // Event Listeners
            prevButton.addEventListener("click", () => navigateQuestion('prev'));
            nextButton.addEventListener("click", () => navigateQuestion('next'));
            submitButton.addEventListener("click", displayResults);

            // Iniciar el cuestionario
            displayQuestion();
        });
    </script>
</body>
</html>
